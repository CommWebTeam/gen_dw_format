<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Generate footnotes</title>
</head>

<body>
<form>
  HTML file:
  <input id="html_file" type="file" />
  <br />
  <br />
  Initial string for footnote IDs: <br />
  <input id="init_id" type="text" value="fnb" />
  <br />
  <br />
  Regex for top footnote locations: <br />
  <textarea id="top_footnote" rows="10" cols="100"></textarea>
  <br />
  <label for="top_footnote_format">Top footnote formatting:</label>
  <select name="top_footnote_format" id="top_footnote_format" onload = "set_top_footnote_regex()" onchange = "set_top_footnote_regex()">
    <option value="en_wet">English WET footnotes</option>
    <option value="fr_wet">French WET footnotes</option>
    <option value="dw">Dreamweaver-generated footnotes</option>
    <option value="oca">OCA table footnotes</option>
    <option value="custom">custom</option>
  </select>
  <br />
  <div id="top_warning"> </div>
  <br />
  <br />
  <textarea id="bot_footnote" rows="10" cols="100"></textarea>
  <br />
  Group containing content:<br />
  <input id="regex_sub" type="number" value="1"/>
  <br />
  <label for="bot_footnote_format">Bottom footnote formatting:</label>
  <select name="bot_footnote_format" id="bot_footnote_format" onload = "set_bot_footnote_regex()" onchange = "set_bot_footnote_regex()">
    <option value="en_wet">English WET footnotes</option>
    <option value="fr_wet">French WET footnotes</option>
    <option value="dw">Dreamweaver-generated footnotes</option>
    <option value="custom">custom</option>
  </select>
  <br />
  <div id="bot_warning"> </div>
  <br />
  <br />
  Duplicate top footnotes (not heavily tested) - format as so (make sure they're in order of appearance from the top):<br />
  index,value;index,value;...<br />
  where the index is of the duplicate footnote location's position from the top, and the value is whichever bottom footnote it should point to instead.<br />
  e.g. 4,3;5,3;10,1<br />
  So the 4th footnote found in the main body would point to the 3rd footnote in the bottom section and so on.<br />
  <textarea id="dup_footnotes" rows="10" cols="100"></textarea>
  <br />
  <br />
  Output footnote language:<br />
  <select id="lang">
    <option value="e">English</option>
    <option value="f">French</option>
  </select>
  <br />
  <br />
</form>
<button type="button" onclick="add_footnotes()">Download with WET footnotes</button>
<p>This application uses a counter to increment the current footnote number, finds the top and bottom footnotes using the regex provided, and replaces them with WET-valid footnotes that have the counter value.</p>
<p>You can also indicate duplicate top footnotes (when multiple top footnotes reference the same bottom footnote). If you don't have any duplicate references, then you can ignore this.</p>
<p>Make sure all instances of the bottom footnotes come after the top footnotes in your html document, since the entire document is being treated as a single string.</p>
<p>The number of top and bottom footnotes found using the regex statements should be the same unless you have duplicate footnotes. <strong>The number of bottom and top footnotes this tool finds is printed in the console.</strong></p>
<p>More in-depth information can be found in the <a rel="external" href="https://commwebteam.github.io/gen_dw_format/footnote_formatter/">readme</a>.</p>
<script src="../download.js"></script> 
<script src="../format_helpers.js"></script> 
<script src="footnote_helpers.js"></script> 
</body>
</html>
